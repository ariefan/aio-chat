# =============================================================================
# RICH BPJS Kesehatan Chatbot - Environment Variables
# =============================================================================
# Copy this file to .env.local for local development:
#   cp .env.example .env.local
# =============================================================================

# =============================================================================
# DATABASE (Required)
# =============================================================================
# PostgreSQL connection string
DATABASE_URL=postgresql://postgres:postgres@localhost:5432/rich_bpjs

# =============================================================================
# NEXTAUTH (Required)
# =============================================================================
# Generate secret: openssl rand -base64 32
NEXTAUTH_SECRET=your-super-secret-key-at-least-32-characters-long
NEXTAUTH_URL=http://localhost:3000

# =============================================================================
# TELEGRAM BOT (Optional - for Telegram integration)
# =============================================================================
# Get token from @BotFather on Telegram
TELEGRAM_BOT_TOKEN=123456789:ABCdefGHIjklMNOpqrsTUVwxyz

# Webhook URL (your public domain)
# For local dev, use ngrok: ngrok http 3000
TELEGRAM_WEBHOOK_URL=https://your-domain.com/api/webhooks/telegram

# =============================================================================
# WHATSAPP CLOUD API (Optional - for WhatsApp integration)
# =============================================================================
# Get these from Meta Developer Console: developers.facebook.com
# App > WhatsApp > API Setup

# Phone Number ID (from WhatsApp > API Setup > Phone Number ID)
WHATSAPP_PHONE_NUMBER_ID=your_phone_number_id

# Permanent Access Token (generate from Business Settings > System Users)
WHATSAPP_ACCESS_TOKEN=your_access_token

# Verify Token (create your own, used for webhook verification)
WHATSAPP_VERIFY_TOKEN=your_verify_token_here

# App Secret (from App Settings > Basic - for webhook signature verification)
WHATSAPP_APP_SECRET=your_app_secret

# WhatsApp Business Account ID (optional, for reference)
WHATSAPP_BUSINESS_ACCOUNT_ID=your_business_account_id

# =============================================================================
# TWILIO WHATSAPP (Alternative - easier for testing)
# =============================================================================
# Get these from Twilio Console: twilio.com/console
# Recommended for testing - no country restrictions!

# Account SID (from Console Dashboard)
TWILIO_ACCOUNT_SID=ACxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx

# Auth Token (from Console Dashboard)
TWILIO_AUTH_TOKEN=xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx

# WhatsApp Sandbox Number (or your approved number)
# Format: whatsapp:+14155238886
TWILIO_WHATSAPP_NUMBER=whatsapp:+14155238886

# =============================================================================
# AI PROVIDER (Required)
# =============================================================================
# Provider: 'openrouter' (default) or 'togetherai'
AI_PROVIDER=openrouter

# API Key (works for both providers)
AI_API_KEY=sk-or-v1-your-api-key-here

# Model to use
# OpenRouter models: google/gemma-3-4b-it, google/gemma-2-9b-it, etc.
# TogetherAI models: google/gemma-2-9b-it, meta-llama/Llama-3-8b-chat-hf, etc.
AI_MODEL=google/gemma-3-4b-it

# =============================================================================
# SCHEDULER (Optional)
# =============================================================================
# Enable proactive message scheduler
SCHEDULER_ENABLED=true
SCHEDULER_TIMEZONE=Asia/Jakarta

# =============================================================================
# APPLICATION
# =============================================================================
NODE_ENV=development
PORT=3000

# =============================================================================
# EXAMPLES
# =============================================================================

# --- Example: OpenRouter (default) ---
# AI_PROVIDER=openrouter
# AI_API_KEY=sk-or-v1-xxxxxxxxxxxx
# AI_MODEL=google/gemma-3-4b-it

# --- Example: TogetherAI ---
# AI_PROVIDER=togetherai
# AI_API_KEY=your-togetherai-key
# AI_MODEL=google/gemma-2-9b-it

# =============================================================================
# PRODUCTION DEPLOYMENT (dokploy)
# =============================================================================
# For production on genai.technosmart.id:
#
# DATABASE_URL=postgresql://user:pass@db-host:5432/jenny_bpjs
# NEXTAUTH_SECRET=<generate-secure-secret>
# NEXTAUTH_URL=https://genai.technosmart.id
# TELEGRAM_BOT_TOKEN=<your-bot-token>
# TELEGRAM_WEBHOOK_URL=https://genai.technosmart.id/api/webhooks/telegram
# AI_PROVIDER=openrouter
# AI_API_KEY=<your-api-key>
# AI_MODEL=google/gemma-3-4b-it
# NODE_ENV=production
# =============================================================================
